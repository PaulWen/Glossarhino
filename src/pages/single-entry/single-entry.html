<ion-header>

  <ion-navbar>
    <!-- Menu toggle for burger menu -->
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title>{{ entryDataObject?.name }}</ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="pushSearch()">
        <ion-icon name="search"></ion-icon>
      </button>

      <button ion-button icon-only (click)="presentLanguagePopover($event)">
        <ion-icon name="chatbubbles"></ion-icon>
      </button>

      <button ion-button icon-only (click)="presentActionSheet()">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- ion-grid for responsive design -->
  <ion-grid>

    <!-- general description of entry -->
    <ion-row align-items-center justify-content-center>
      <ion-col col-12>
        <ion-card>
          <ion-card-header>
            Description
          </ion-card-header>
          <ion-card-content>
            {{ entryDataObject?.description }}
          </ion-card-content>

          <div class="card-footer">

            <button ion-button icon-left clear small (click)="sendMail(entryDataObject?.email)">
                  <ion-icon name="contact"></ion-icon>
                  <div>{{ entryDataObject?.contact }}</div>
                </button>

            <div class="buttons">

              <button ion-button clear small (click)="openCommentModal(entryDataObject?.comments)" id="badge-button">
                  <ion-icon name="quote">
                  <ion-badge id="badge"> {{ getArrayLength(entryDataObject?.comments) }} </ion-badge>
                  </ion-icon>
                </button>

              <button ion-button clear small (click)="openAttachmentModal(entryDataObject?.attachments)" id="badge-button">
                  <ion-icon name="attach">
                  <ion-badge id="badge"> {{ getArrayLength(entryDataObject?.attachments) }} </ion-badge>
                  </ion-icon>
                </button>

              <button ion-button clear small (click)="openAttachmentModal(entryDataObject?.attachments)" id="badge-button">
                  <ion-icon name="link">
                  <ion-badge id="badge"> {{ getArrayLength(entryDataObject?.relatedDepartments) }} </ion-badge>
                  </ion-icon>
                </button>

            </div>

          </div>

        </ion-card>
      </ion-col>
    </ion-row>

    <!-- specifics for the departments generated as one card each -->
    <ion-row align-items-stretch justify-content-center>
      <ng-container *ngFor="let department of entryDataObject?.departmentSpecifics">
        <ion-col col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-6 col-12>
          <ion-card>
            <ion-card-header>
              {{ singleEntryPageModelInterface.getDepartmentById(department.departmentId).departmentName }}
            </ion-card-header>
            <ion-card-content>
              {{ department.description }}
            </ion-card-content>
            <ion-row ion-footer>
              <ion-col>
                <button ion-button icon-left clear small (click)="sendMail(department.email)">
                  <ion-icon name="contact"></ion-icon>
                  <div>{{ department.contact }}</div>
                </button>
              </ion-col>
            </ion-row>
          </ion-card>
        </ion-col>
      </ng-container>
    </ion-row>
  </ion-grid>

</ion-content>